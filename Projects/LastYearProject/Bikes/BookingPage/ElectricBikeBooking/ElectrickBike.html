<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bike Booking - TWbox</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" /><link rel="stylesheet" href="/My-Portfolio/Projects/LastYearProject/Home/univ.css">
  <style>
    #map { height: 300px; width: 100%; }
    .otp-box, .booking-summary { display: none; }
  </style>
</head>
<body class="bg-light">

  	<!-- Navigation Bar Starts -->
	<nav class="navbar navbar-expand-lg -tertiary sticky-top bg-green">
		<div class="container-fluid">
			<img src="/My-Portfolio/Projects/LastYearProject/Img/Logo/logo.jpg" alt="" srcset="" class="logo">
			<a class="navbar-brand tt" href="#">TW Box</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
				data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav ms-auto mb-2 mb-lg-0">
					<li class="nav-item">
						<a class="nav-link active" aria-current="page" href="/My-Portfolio/Projects/LastYearProject/Home/univ.html">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/My-Portfolio/Projects/LastYearProject/Bikes/bikes.html"> Bikes</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/My-Portfolio/Projects/LastYearProject/Cycles/cycles.html">Cycles</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/My-Portfolio/Projects/LastYearProject/Contact/contact.html">Contact </a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/My-Portfolio/Projects/LastYearProject/About/About.html">About </a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/My-Portfolio/Projects/LastYearProject/FAQ/FAQ.html">FAQs</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/My-Portfolio/Projects/LastYearProject/Reviews/Reviews.html">Reviews</a>
					</li>
				</ul>
				<!-- âœ… Login Form + Register Button -->
				<form class="d-flex align-items-center" action="password.html" method="get">
					<input class="form-control me-2" type="text" name="loginID" placeholder="Login ID" required />
					<button class="btn btn-outline-light me-2" type="submit">Login</button>
					<a href="/My-Portfolio/Projects/LastYearProject/Details/details.html" class="btn btn-warning">Register</a>
				</form>
			</div>
		</div>
	</nav>
	<!-- Nav Bar End -->

  <div class="container py-4">
    <h2 class="text-center mb-4">ğŸï¸ You are booking an Electric Bike</h2>

    <!-- Google Map -->
    <div class="mb-4 border rounded">
      <div id="map"></div>
    </div>

    <!-- Location Selector -->
    <div class="mb-3">
      <label for="placeSelect" class="form-label">Select Pickup Location:</label>
      <select id="placeSelect" class="form-select">
        <option value="">-- Choose --</option>
        <option value="panbazar">Panbazar</option>
        <option value="khanapara">Khanapara</option>
        <option value="adabari">Adabari</option>
        <option value="paltanbazar">Paltan Bazar</option>
        <option value="bhetapara">Bhetapara</option>
        <option value="hatigaon">Hatigaon</option>
        <option value="ganeshguri">Ganeshguri</option>
        <option value="maligaon">Maligaon</option>
        <option value="ulubari">Ulubari</option>
        <option value="bharalumukh">Bharalumukh</option>
        <option value="chandmari">Chandmari</option>
        <option value="narengi">Narengi</option>
        <option value="noonmati">Noonmati</option>
        <option value="lokhra">Lokhra</option>
        <option value="jalukbari">Jalukbari</option>
      </select>
    </div>
    <!-- Location Details -->
    <div id="placeDetails" class="alert alert-info d-none"></div>
    <!-- Phone Input -->

<form class="needs-validation" novalidate>
    <div class="mb-3">
      <label for="phoneInput" class="form-label">Mobile Number:</label>
      <input type="tel" id="phoneInput" class="form-control" placeholder="e.g. 9876543210" pattern="^\d{10}$"
        maxlength="10" required />
      <div class="invalid-feedback">Please enter a valid 10-digit mobile number</div>
    </div>
</form>

    <!-- OTP Button -->
    <!-- OTP Button -->
<button class="btn btn-primary w-100" onclick="validateAndGenerateOTP()">Generate OTP</button>

    <!-- OTP Input -->
    <div class="otp-box mt-3">
      <label for="otpInput" class="form-label">Enter OTP:</label>
      <input type="text" id="otpInput" class="form-control" />
      <button class="btn btn-success w-100 mt-2" onclick="verifyOTP()">Confirm Booking</button>
    </div>
    <!-- Booking Summary -->
    <div class="booking-summary mt-4 alert alert-success" id="bookingSummary"></div>
  </div>
  <!-- Google Maps API -->
 <script async defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA8AjJOOD3K9qJlU_07gmKgPdd9mKeNsK0&callback=initMap">
</script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
    crossorigin="anonymous"></script>
  <!-- JS Logic -->
  

</body>
<script>
  const placeInfo = {
    panbazar: { lat: 26.1806, lng: 91.7539, info: "ğŸ“ Panbazar: Near Railway Station. 5 bikes available." },
    khanapara: { lat: 26.1226, lng: 91.7896, info: "ğŸ“ Khanapara: Close to Zoo Gate. 3 bikes available." },
    adabari: { lat: 26.1588, lng: 91.7076, info: "ğŸ“ Adabari: Bus Stand area. 2 bikes available." },
    paltanbazar: { lat: 26.1844, lng: 91.7502, info: "ğŸ“ Paltan Bazar: Central hub. 4 bikes available." },
    bhetapara: { lat: 26.1032, lng: 91.8081, info: "ğŸ“ Bhetapara: Residential zone. 2 bikes available." },
    hatigaon: { lat: 26.1156, lng: 91.8123, info: "ğŸ“ Hatigaon: Near GMCH. 3 bikes available." },
    ganeshguri: { lat: 26.1321, lng: 91.8013, info: "ğŸ“ Ganeshguri: Commercial area. 5 bikes available." },
    maligaon: { lat: 26.1652, lng: 91.6854, info: "ğŸ“ Maligaon: Near Railway HQ. 2 bikes available." },
    ulubari: { lat: 26.1782, lng: 91.7521, info: "ğŸ“ Ulubari: Near Nehru Stadium. 3 bikes available." },
    bharalumukh: { lat: 26.1750, lng: 91.7360, info: "ğŸ“ Bharalumukh: Riverside zone. 2 bikes available." },
    chandmari: { lat: 26.1891, lng: 91.7832, info: "ğŸ“ Chandmari: Cultural hub. 4 bikes available." },
    narengi: { lat: 26.2101, lng: 91.8412, info: "ğŸ“ Narengi: Eastern edge. 1 bike available." },
    noonmati: { lat: 26.2055, lng: 91.8233, info: "ğŸ“ Noonmati: Refinery area. 2 bikes available." },
    lokhra: { lat: 26.1089, lng: 91.7410, info: "ğŸ“ Lokhra: Near ISBT. 3 bikes available." },
    jalukbari: { lat: 26.1625, lng: 91.6850, info: "ğŸ“ Jalukbari: University zone. 4 bikes available." }
  };

  let map, marker, generatedOTP = "";

  function initMap() {
    const center = { lat: 26.1445, lng: 91.7362 };
    map = new google.maps.Map(document.getElementById("map"), {
      zoom: 13,
      center: center
    });
  }

  document.addEventListener("DOMContentLoaded", function () {
    const placeSelect = document.getElementById("placeSelect");
    const detailsBox = document.getElementById("placeDetails");
    const phoneInput = document.getElementById("phoneInput");

    // Location change handler
    placeSelect.addEventListener("change", function () {
      const selected = this.value;
      if (placeInfo[selected]) {
        const location = placeInfo[selected];
        detailsBox.textContent = location.info;
        detailsBox.classList.remove("d-none");

        map.setCenter({ lat: location.lat, lng: location.lng });

        if (marker) marker.setMap(null);
        marker = new google.maps.Marker({
          position: { lat: location.lat, lng: location.lng },
          map: map,
          title: selected
        });
      } else {
        detailsBox.classList.add("d-none");
        if (marker) marker.setMap(null);
      }
    });

    // Reset validation on input
    phoneInput.addEventListener("input", function () {
      this.classList.remove("is-invalid");
    });
  });

  function validateAndGenerateOTP() {
    const phoneInput = document.getElementById("phoneInput");
    const phoneNumber = phoneInput.value.trim();

    const isValid = /^\d{10}$/.test(phoneNumber);

    if (isValid) {
      generatedOTP = Math.floor(1000 + Math.random() * 9000).toString();
      alert("Your OTP is: " + generatedOTP);
      document.querySelector(".otp-box").style.display = "block";
    } else {
      phoneInput.classList.add("is-invalid");
      phoneInput.focus();
    }
  }

  function verifyOTP() {
    const entered = document.getElementById("otpInput").value.trim();
    const selectedPlace = document.getElementById("placeSelect").value;
    const bookingSummary = document.getElementById("bookingSummary");

    if (entered === generatedOTP) {
      bookingSummary.innerHTML = `
        <h5>âœ… Booking Confirmed!</h5>
        <p><strong>Pickup Location:</strong> ${selectedPlace}</p>
        <p><strong>Verified OTP:</strong> ${generatedOTP}</p>
        <p>ğŸ“… Please arrive within 15 minutes to collect your bike.</p>
      `;
    } else {
      bookingSummary.innerHTML = `<div class="alert alert-danger">âŒ Invalid OTP. Please try again.</div>`;
    }
    bookingSummary.style.display = "block";
  }

  // Bootstrap form validation
  (function () {
    'use strict';
    window.addEventListener('load', function () {
      const forms = document.querySelectorAll('.needs-validation');
      Array.from(forms).forEach(function (form) {
        form.addEventListener('submit', function (event) {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add('was-validated');
        }, false);
      });
    });
  })();
</script>

</html>